(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{294:function(e,n,a){"use strict";var t=a(2),r=a.n(t),c=a(5),i=a.n(c),o=a(35),s=a.n(o),d=a(36),l=a(3),m=a.n(l),u=a(90),f=a(4),p={};try{p.mainnet=a(298),p.rinkeby=a(299),p.localhost=a(300)}catch(e){}var b=["function balanceOf(address owner) view returns (uint256)","function allowance(address owner, address spender) view returns (uint256)","function approve(address spender, uint256 value) returns (bool)","function decimals() view returns (uint8)","function symbol() view returns (string)"],h=["function makeOffer(uint listingID, bytes32 ipfsHash, uint finalizes, address affiliate, uint256 commission, uint value, address currency, address arbitrator) payable","event OfferCreated (address indexed party, uint indexed listingID, uint indexed offerID, bytes32 ipfsHash)",{constant:!0,inputs:[{name:"",type:"uint256"},{name:"",type:"uint256"}],name:"offers",outputs:[{name:"value",type:"uint256"},{name:"commission",type:"uint256"},{name:"refund",type:"uint256"},{name:"currency",type:"address"},{name:"buyer",type:"address"},{name:"affiliate",type:"address"},{name:"arbitrator",type:"address"},{name:"finalizes",type:"uint256"},{name:"status",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"}],g=new s.a.utils.Interface(h);function x(){return(x=i()(r.a.mark((function e(n){var a,t,c,i,o,s,l,u,f,p,b,h,x,y,v,E,w,k,N;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.tx,t=n.password,c=n.config,i=n.provider,o=n.marketplace,0!==a.indexOf("0x")){e.next=23;break}return f=m()(c,"listingId"),e.next=5,i.getTransactionReceipt(a);case 5:if(p=e.sent){e.next=9;break}return console.log("Could not find receipt"),e.abrupt("return",null);case 9:return b=p.logs.map((function(e){try{return g.parseLog(e)}catch(e){}})).filter((function(e){return e})).find((function(e){return"OfferCreated"===e.name})),h=b.args.listingID.toNumber(),x=b.args.offerID.toNumber(),y=b.args.ipfsHash,e.next=15,Object(d.get)(c.ipfsGateway,y,1e4);case 15:return v=e.sent,s=v.encryptedData,l="".concat(f,"-").concat(x),e.next=20,o.offers(h,x);case 20:u=e.sent,e.next=24;break;case 23:s=a;case 24:return e.prev=24,e.next=27,Object(d.get)(c.ipfsGateway,s,1e4);case 27:return E=e.sent,e.next=30,openpgp.message.readArmored(E.buyerData);case 30:return w=e.sent,e.next=33,openpgp.decrypt({message:w,passwords:[t]});case 33:return k=e.sent,(N=JSON.parse(k.data)).offerId=l,e.abrupt("return",{cart:N,offer:u});case 39:return e.prev=39,e.t0=e.catch(24),e.abrupt("return",null);case 42:case"end":return e.stop()}}),e,null,[[24,39]])})))).apply(this,arguments)}n.a=function(){var e=Object(f.a)().config,n=Object(u.a)(),a=n.status,t=n.provider;if("enabled"!==a)return{};var r=t?t.getSigner():null,c=p[localStorage.ognNetwork||"localhost"],i=c.OGN,o=c.Marketplace_V01,d=new s.a.Contract(i,b,r||t),l=new s.a.Contract(o,h,r||t);return{ogn:d,marketplace:l,provider:t,signer:r,getOffer:function(n){return function(e){return x.apply(this,arguments)}({tx:n.tx,password:n.password,config:e,provider:t,marketplace:l})}}}},298:function(e){e.exports=JSON.parse('{"Marketplace":"0x819bb9964b6ebf52361f1ae42cf4831b921510f9","MarketplaceEpoch":6436157,"Marketplace_V01":"0x698ff47b84837d3971118a369c570172ee7e54c2","MarketplaceEpoch_V01":8582597,"IdentityEvents":"0x8ac16c08105de55a02e2b7462b1eec6085fa4d86","IdentityEventsEpoch":7046530,"UniswapDaiExchange":"0x2a1530C4C41db0B0b2bB646CB5Eb1A67b7158667","ProxyFactory":"0x117793cc0b19c01c531638a986923533f2f865e7","ProxyFactoryEpoch":8079788,"IdentityProxyImplementation":"0xb8b530afcfc283ee330f9fcaea26468c4007c0c3","TokenDistributor":"0x41c4493850015C96AdE9397E4E824A6eF484B7e0","OGN":"0x8207c1ffc5b6804f6024322ccf34f29c3541ae26","DAI":"0x6B175474E89094C44Da98b954EedeAC495271d0F","USDC":"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","GUSD":"0x056fd409e1d7a124bd7017459dfea2f387b6d5cd","OKB":"0x75231f58b43240c9718dd58b4967c5114342a86c","USDT":"0xdac17f958d2ee523a2206206994597c13d831ec7"}')},299:function(e){e.exports=JSON.parse('{"Marketplace":"0xe842831533c4bf4b0f71b4521c4320bdb669324e","MarketplaceEpoch":3086315,"Marketplace_V01":"0x3d608cce08819351ada81fc1550841ebc10686fd","MarketplaceEpoch_V01":5119455,"IdentityEvents":"0x160455a06d8e5aa38862afc34e4eca0566ee4e7e","IdentityEventsEpoch":3670528,"UniswapDaiExchange":"0x77dB9C915809e7BE439D2AB21032B1b8B58F6891","ProxyFactory":"0xe52d8ae4A3745459aC525287a597d1D5f39c44F7","ProxyFactoryEpoch":4664344,"IdentityProxyImplementation":"0x8ACcCe67F87508814e79f3970F58c5D0cd31CacB","TokenDistributor":"0x123c7D2554C7d8e44428f5d0118C3B2478Ba79C4","OGN":"0xa115e16ef6e217f7a327a57031f75ce0487aadb8","DAI":"0x2448eE2641d78CC42D7AD76498917359D961A783","USDT":"0xd2e491c652b9eff6b4dbdc0cb041c7ad2242630b"}')},300:function(e){e.exports=JSON.parse('{"Marketplace_V01":"0xa4392264a2d8c998901d10c154c91725b1bf0158","OGN":"0x13274fe19c0178208bcbee397af8167a7be27f6f"}')},310:function(e,n,a){"use strict";a.r(n);var t=a(2),r=a.n(t),c=a(5),i=a.n(c),o=a(1),s=a.n(o),d=a(0),l=a.n(d),m=a(17),u=a(18),f=a.n(u),p=a(3),b=a.n(p),h=a(9),g=a.n(h),x=a(7),y=function(){return l.a.createElement("svg",{className:"icon icon-check-circle",viewBox:"0 0 50 50",fill:"none"},l.a.createElement("path",{d:"M25 49c13.255 0 24-10.745 24-24S38.255 1 25 1 1 11.745 1 25s10.745 24 24 24z"}),l.a.createElement("path",{d:"M15 24.51l7.307 7.308L35.125 19"}))};a(9)("\n  .icon.icon-check-circle\n    path\n      stroke: #1990c6\n      stroke-width: 2\n");var v=a(6),E=a(4),w=a(294),k=a(86),N=a.n(k),O=a(92),C=function(e){var n=e.cart,a=Object(E.a)().config;if(!n)return l.a.createElement("div",null,"Loading...");var t=b()(n,"userInfo.phone");return l.a.createElement("div",{className:"checkout-confirmation"},l.a.createElement("div",{className:"d-none d-md-block"},l.a.createElement("h3",null,a.fullTitle)),l.a.createElement("div",{className:"thankyou"},l.a.createElement("div",{className:"check"},l.a.createElement(y,null)),l.a.createElement("div",{className:"details"},n.offerId?l.a.createElement("div",{className:"order-number"},"Order #".concat(n.offerId)):null,l.a.createElement("div",{className:"name"},"Thank you ".concat(b()(n,"userInfo.firstName")),"!"))),l.a.createElement("div",{className:"order-confirmed"},l.a.createElement("div",{className:"title"},"Your order is confirmed"),l.a.createElement("div",{className:"description"},"Youâ€™ll receive an email when your order is ready.")),l.a.createElement("div",{className:"customer-info"},l.a.createElement("h4",null,"Customer information"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h5",null,"Contact information"),l.a.createElement("div",{className:"value"},b()(n,"userInfo.email")),t?l.a.createElement("div",{className:"value"},t):null),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h5",null,"Payment method"),l.a.createElement("div",{className:"value"},b()(n,"paymentMethod.label")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h5",null,"Shipping address"),l.a.createElement("div",{className:"value"},N()(n.userInfo).map((function(e,n){return l.a.createElement("div",{key:n},e)})))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h5",null,"Billing address"),l.a.createElement("div",{className:"value"},N()(n.userInfo,n.userInfo.billingDifferent?"billing":null).map((function(e,n){return l.a.createElement("div",{key:n},e)}))))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h5",null,"Shipping method"),b()(n,"shipping.label")))),l.a.createElement("div",{className:"actions"},l.a.createElement("div",null,"Need help?"," ",l.a.createElement("a",{href:"mailto:".concat(a.supportEmailPlain)},"Contact us")),l.a.createElement(x.a,{className:"btn btn-primary btn-lg",to:"/"},"Continue shopping")))};n.default=function(){var e=Object(E.a)().config,n=Object(w.a)().getOffer,a=Object(d.useState)(),t=s()(a,2),c=t[0],o=t[1],u=Object(d.useState)(),p=s()(u,2),b=p[0],h=p[1],x=Object(v.b)(),y=s()(x,2)[1],k=Object(m.i)("/order/:tx"),N=Object(m.h)(),D=f.a.parse(N.search);return Object(d.useEffect)((function(){function e(){return(e=i()(r.a.mark((function e(){var a,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k.params.tx,e.next=3,n({tx:a,password:D.auth});case 3:(t=e.sent)?(o(t.cart),h(!1),y({type:"orderComplete"})):h(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[k.params.tx,D.auth,n]),Object(d.useEffect)((function(){window.orderCss||(g.a.addStylesheet(),window.orderCss=!0)}),[]),b?(console.error(b),l.a.createElement("div",{className:"checkout"},l.a.createElement("h3",{className:"d-md-none my-4 ml-4"},e.title),l.a.createElement("div",{className:"user-details"},"Error loading order"),l.a.createElement("div",{className:"order-summary-wrap"}))):c?l.a.createElement("div",{className:"checkout"},l.a.createElement("h3",{className:"d-md-none my-4 ml-4"},e.title),l.a.createElement("div",{className:"user-details"},l.a.createElement(C,{cart:c})),l.a.createElement("div",{className:"order-summary-wrap"},l.a.createElement(O.a,{cart:c}))):l.a.createElement("div",{className:"loading-fullpage"},"Loading")};a(9)("\n  .checkout\n    display: flex\n    h3,h4,h5\n      font-weight: 400\n    .breadcrumbs\n      font-size: 0.8rem\n      a\n        color: #1990c6\n    > .user-details\n      flex: 7\n      padding: 3rem\n      display: flex\n      justify-content: flex-end\n      .checkout-information,.checkout-shipping\n        padding: 1rem\n        max-width: 600px\n        width: 100%\n      .actions\n        display: flex\n        justify-content: space-between\n        align-items: center\n        margin-top: 2rem\n    > .order-summary-wrap\n      padding: 3rem\n      flex: 6\n      min-height: 100vh\n      border-width: 0 0 0 1px\n      border-style: solid\n      border-color: #ddd\n      background: #f6f6f6\n\n\n  @media (max-width: 767.98px)\n    .checkout\n      flex-direction: column\n      > .user-details\n        padding: 1rem\n        order: 2\n        .checkout-information,.checkout-shipping\n          padding: 1rem 0\n        .actions\n          flex-direction: column-reverse\n          *\n            margin-bottom: 2rem\n      > .order-summary-wrap\n        padding: 1rem 1.25rem\n        border-width: 1px 0 1px 0\n        min-height: 0\n        .toggle-order-summary\n          display: flex\n          justify-content: space-between\n          .toggle\n            color: #1990c6\n          .icon-caret\n            fill: #1990c6\n            margin-left: 0.5rem\n          .icon-cart\n            margin-right: 0.5rem\n            width: 1.5rem\n          &.active\n            .icon-caret\n              transform: scaleY(-1)\n\n        .order-summary\n          margin-top: 2rem\n          display: none\n          &.show\n            display: block\n\n"),a(9)("\n  .order-summary\n    max-width: 430px\n    .item\n      display: flex\n      align-items: center\n      margin-bottom: 1rem\n      width: 100%\n      .title\n        font-weight: bold\n        flex: 1\n        .cart-options\n          font-size: 0.8rem\n          font-weight: normal\n      .price\n        font-weight: bold\n      .image\n        position: relative\n        margin-right: 1rem\n        .product-pic\n          border-radius: 0.5rem\n          border: 1px solid #ddd\n          min-width: 3rem\n        span\n          position: absolute\n          display: block\n          top: -0.5rem\n          right: -0.5rem\n          padding: 0.125rem 0.5rem\n          background: #999\n          color: #fff\n          border-radius: 1rem\n          font-size: 0.75rem\n    img\n      max-width: 60px\n    .sub-total,.total\n      margin-top: 1rem\n      padding-top: 1rem\n      border-top: 1px solid #ddd\n      > div\n        display: flex\n        justify-content: space-between\n        margin-bottom: 0.5rem\n    .total\n      font-size: 1.25rem\n\n"),a(9)("\n  .checkout-confirmation\n    width: 100%\n    max-width: 570px\n    .icon-check-circle\n      width: 3rem\n    .thankyou\n      display: flex\n      align-items: center\n      margin-top: 1rem\n      .check\n        margin-right: 1rem\n      .order-number\n        font-size: 0.875rem\n        color: #666\n      .name\n        font-size: 1.25rem\n    .order-confirmed\n      margin-top: 2rem\n      border: 1px solid #ddd\n      border-radius: 0.25rem\n      padding: 1rem\n      .title\n        font-size: 1.25rem\n        margin-bottom: 0.25rem\n      .description\n        color: #666\n    .customer-info\n      margin-top: 2rem\n      border: 1px solid #ddd\n      border-radius: 0.25rem\n      padding: 1rem\n      font-size: 0.875rem\n      color: #555\n      h4\n        font-size: 1.125rem\n        color: #333\n        margin-bottom: 0.25rem\n      h5\n        font-size: 0.875rem\n        margin-top: 1rem\n        font-weight: 500\n        color: #333\n\n")}}]);